.chatpage-container {
  background-color: #fffdf7;
  border: 1px solid #e8dfd4;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);
  height: calc(100vh - 40px); 
  display: flex;
  flex-direction: column;
  justify-content: center; 
  align-items: center;     
  box-sizing: border-box;
  padding: 20px;
  width: 100%;
  overflow: hidden; 
}

.chatpage-container.dark {
  background-color: #1c1c1c !important;
  color: #f0f0f0 !important;
}

.chat-header {
  text-align: center !important;
  margin-bottom: 30px !important;
  max-width: 700px !important;
  animation: fadeIn 1s ease !important;
  flex-shrink: 0;

}

.chat-header h1 {
  font-size: 48px !important;
  font-weight: bold !important;
  color: #b35400 !important;
}

.chat-header p {
  font-size: 20px !important;
  color: #b35400 !important;
}

.dark-toggle {
  font-size: 13px !important;
  padding: 5px 12px !important;
  border: 1px solid #ccc !important;
  background: transparent !important;
  cursor: pointer !important;
  border-radius: 5px !important;
  margin-top: 10px !important;
  font-weight: bold !important;
}

.chatpage-container.dark .dark-toggle {
  color: white !important;
  border-color: #888 !important;
}

.chat-box {
  background-color: #ffffff !important;
  border-radius: 18px !important;
  padding: 24px !important;
  width: 80% !important;
  max-width: 90% !important;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.06) !important;
  border: 1px solid #f0e6dd !important;
  overflow-y: auto !important;
  scroll-behavior: smooth !important;
  animation: slideUp 0.6s ease !important;
  display: flex !important;
  flex-direction: column !important;
  flex-grow: 1;                
  overflow-y: auto;     
  max-height: 100%;     
}

.chatpage-container.dark .chat-box {
  background-color: #2a2a2a !important;
  border-color: #444 !important;
}

.message-bubble {
  display: flex !important;
  gap: 10px !important;
  margin-bottom: 16px !important;
  animation: fadeInUp 0.4s ease !important;
}

.message-bubble.bot {
  align-self: flex-start !important;
}

.message-bubble.user {
  align-self: flex-end !important;
  flex-direction: row-reverse !important;
}

.avatar {
  font-size: 20px !important;
  margin-top: 6px !important;
}

.bubble-content {
  background-color: #f5f1ec !important;
  padding: 12px 16px !important;
  border-radius: 16px !important;
  max-width: 50% !important;
  white-space: pre-wrap !important;
  border: 1px solid #e8dfd4 !important;
  font-size: 15px !important;
  max-width: 400px !important;
  line-height: 1.4 !important;
}

.message-bubble.user .bubble-content {
  background-color: #dceeff !important;
  border: 1px solid #b4dbf5 !important;
}

.chatpage-container.dark .bubble-content {
  background-color: #333 !important;
  border-color: #555 !important;
}

.chat-input-container {
  display: flex !important;
  gap: 10px !important;
  margin-top: 20px !important;
  max-width: 720px !important;
  width: 100% !important;
  flex-wrap: wrap !important;
  animation: fadeIn 0.8s ease !important;
}

.chat-input-container select,
.chat-input-container input,
.chat-input-container button {
  padding: 10px !important;
  border-radius: 6px !important;
  font-size: 15px !important;
  border: 1px solid #ccc !important;
}

.chat-input-container input {
  flex: 1 !important;
  min-width: 180px !important;
}

.chat-input-container button {
  background-color: #b35400 !important;
  color: white !important;
  border: none !important;
  cursor: pointer !important;
  transition: background-color 0.3s ease !important;
}

.chat-input-container button:hover {
  background-color: #994600 !important;
}

/* RECIPE LIST */
.recipe-list {
  display: flex !important;
  flex-wrap: wrap !important;
  gap: 16px !important;
  justify-content: flex-start !important;
  margin-top: 12px !important;
}



.recipe-card {
  flex: 1 1 300px !important;
  max-width: 25% !important;
  background: #fffdf7 !important;
  border: 1px solid #e8dfd4 !important;
  border-radius: 12px !important;
  padding: 12px !important;
  font-size: 14px !important;
  max-height: 400px !important;
  overflow-y: auto !important;
}

.chatpage-container.dark .recipe-card {
  background: #2b2b2b !important;
  border-color: #555 !important;
}

.recipe-image {
  width: 100% !important;
  max-height: 140px !important;
  object-fit: cover !important;
  border-radius: 8px !important;
  margin: 10px 0 !important;
}

.recipe-meta {
  display: flex !important;
  justify-content: space-between !important;
  font-size: 13px !important;
  margin-bottom: 8px !important;
}

.ingredients-list {
  margin: 6px 0 !important;
  padding-left: 18px !important;
}

.instructions {
  margin-top: 8px !important;
  font-size: 13px !important;
}

.timestamp {
  margin-top: 5px !important;
  font-size: 12px !important;
  color: gray !important;
}

.recipe-actions {
  display: flex !important;
  gap: 8px !important;
  margin-top: 10px !important;
  justify-content: center !important;
}

.recipe-button {
  font-size: 14px !important;
  padding: 6px 10px !important;
  border: none !important;
  border-radius: 8px !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  display: flex !important;
  align-items: center !important;
  gap: 5px !important;
}

.recipe-button.view {
  background-color: #ffa63d !important;
  color: rgb(0, 0, 0) !important;
}

.recipe-button.view:hover {
  background-color: #ff931a !important;
}

.recipe-button.save {
  background-color: #efefef !important;
  color: #d60000 !important;
  border: 1px solid #ccc !important;
}

.recipe-button.save:hover {
  background-color: #fbdcdc !important;
  border-color: #ffbdbd !important;
}

.chatpage-container.dark .recipe-button.view {
  background-color: #d68100 !important;
}

.chatpage-container.dark .recipe-button.view:hover {
  background-color: #b36900 !important;
}

.chatpage-container.dark .recipe-button.save {
  background-color: #3a3a3a !important;
  color: #ff6161 !important;
  border: 1px solid #666 !important;
}

.chatpage-container.dark .recipe-button.save:hover {
  background-color: #503535 !important;
  border-color: #cc4444 !important;
}

/* MODAL */
.recipe-modal-overlay {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  width: 100% !important;
  height: 100% !important;
  background: rgba(0, 0, 0, 0.5) !important;
  z-index: 1000 !important;
  display: flex !important;
  justify-content: center !important;
  align-items: center !important;
}

.recipe-modal {
  background: #fffdf7 !important;
  padding: 30px !important;
  border-radius: 12px !important;
  max-width: 700px !important;
  width: 90% !important;
  max-height: 90vh !important;
  overflow-y: auto !important;
  box-shadow: 0 0 30px rgba(0, 0, 0, 0.25) !important;
  position: relative !important;
}

.chatpage-container.dark .recipe-modal {
  background: #2a2a2a !important;
  color: white !important;
}

.recipe-modal h2 {
  margin-top: 0 !important;
  color: #b35400 !important;
}

.recipe-modal img {
  width: 100% !important;
  max-height: 250px !important;
  object-fit: cover !important;
  border-radius: 8px !important;
  margin: 12px 0 !important;
}

.recipe-modal .ingredients-list {
  margin: 8px 0 !important;
  padding-left: 20px !important;
}

.recipe-modal .instructions {
  font-size: 14px !important;
  margin-top: 10px !important;
  line-height: 1.5 !important;
}

.recipe-modal .close-btn {
  margin-top: 15px !important;
  background-color: #ff5252 !important;
  color: white !important;
  border: none !important;
  padding: 6px 12px !important;
  border-radius: 6px !important;
  cursor: pointer !important;
}

.recipe-modal .close-btn:hover {
  background-color: #e04848 !important;
}

.recipe-modal .close-button {
  position: absolute !important;
  top: 12px !important;
  right: 20px !important;
  background: none !important;
  border: none !important;
  font-size: 1.5rem !important;
  cursor: pointer !important;
  color: #333 !important;
}

.chatpage-container.dark .recipe-modal .close-button {
  color: #eee !important;
}

/* Animacije */
@keyframes fadeIn {
  from { opacity: 0 !important; }
  to { opacity: 1 !important; }
}

@keyframes fadeInUp {
  from { opacity: 0 !important; transform: translateY(10px) !important; }
  to { opacity: 1 !important; transform: translateY(0) !important; }
}

@keyframes slideUp {
  from { opacity: 0 !important; transform: translateY(20px) !important; }
  to { opacity: 1 !important; transform: translateY(0) !important; }
}

/* Mobilni prikaz */
@media (max-width: 768px) {
  .chat-header h1 {
    font-size: 28px !important;
  }

  .chat-header p {
    font-size: 14px !important;
  }

  .chat-box {
    padding: 16px !important;
  }

  .chat-input-container {
    flex-direction: column !important;
    gap: 8px !important;
  }

  .chat-input-container button {
    width: 100% !important;
  }
}

@media (max-width: 600px) {
  .chat-box {
    padding: 16px 12px !important;
  }

  .chat-input-container {
    flex-direction: column !important;
    align-items: stretch !important;
  }

  .chat-input-container select,
  .chat-input-container input,
  .chat-input-container button {
    width: 100% !important;
  }

  .recipe-card {
    flex: 0 0 90% !important;
  }
}
/* Override bubble style when showing recipes */
.bubble-content.with-recipes {
  max-width: 100% !important;
  padding: 0 !important;
  border: none !important;
  background: none !important;
}
@media (max-width: 768px) {
  .recipe-card {
    flex: 1 1 100% !important;
  }
}
@media (max-width: 768px) {
  .recipe-list {
    display: flex !important;
    overflow-x: auto !important;
    flex-wrap: nowrap !important;
    gap: 12px !important;
    padding-bottom: 10px !important;
    scroll-snap-type: x mandatory !important;
    -webkit-overflow-scrolling: touch !important;
  }

  .recipe-card {
    flex: 0 0 240px !important;
    max-width: 80% !important;
    scroll-snap-align: start !important;
  }
}
